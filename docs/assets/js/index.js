"use strict";window.addEventListener("load",function e(){window.removeEventListener("load",e,!1),init()},!1);var init=function(){function e(){q.init(),x.init(),b.init(),E.init(),T.init()}var t=document,r=t.querySelector("nav"),n=r.querySelector("ul"),i=n.offsetTop,o=t.querySelector("#hamburger"),a=t.querySelector("#hero-title"),l=a.offsetTop,s=new WebKitCSSMatrix(window.getComputedStyle(a).getPropertyValue("transform")).a,c=n.querySelector("ul"),u=n.querySelector("#rooms-menu a"),d=t.querySelector("main").offsetTop,f=t.querySelectorAll(".room"),m=firebase.database().ref().child("rooms"),y=t.querySelectorAll(".room-text h4"),h=t.querySelectorAll(".room-text-body"),g=t.querySelector("form"),v=g.querySelector("h1"),p=g.querySelector("span"),S=[g.querySelector(".form-name"),g.querySelector(".form-email"),g.querySelector(".form-tel"),g.querySelector("#arrival-date input"),g.querySelector("#departure-date input"),g.querySelector(".form-text textarea")],w=g.querySelector(".form-message"),L=t.querySelectorAll(".reserve-btn"),q={smallScreen:function(){o.addEventListener("click",function(){n.classList.toggle("hidden"),o.classList.toggle("hamburger-active")}),n.addEventListener("click",function(){o.classList.toggle("hamburger-active"),n.classList.add("hidden")})},bigScreen:function(){n.classList.remove("hidden"),n.addEventListener("click",function(e){Array.from(n.children).forEach(function(t){t.children[0]==e.target?t.children[0].classList.add("menu-item-active"):t.children[0].classList.remove("menu-item-active"),e.target!=n.children[2].children[0]?c.classList.add("roomlist-hidden"):e.preventDefault()})}),c.classList.add("roomlist-hidden"),u.addEventListener("click",function(){c.classList.toggle("roomlist-hidden")})},scrolled:function(){var e=window.pageYOffset;"ontouchstart"in window?(e>i/4?a.classList.add("hero-title-fixed"):a.classList.remove("hero-title-fixed"),e>d?r.classList.add("nav-fixed"):r.classList.remove("nav-fixed")):e>i-60?a.classList.add("hero-title-fixed"):(a.classList.remove("hero-title-fixed"),a.style.opacity=""+(1-e/i),a.style.transform="scale("+(s-e/300)+") translateY("+-e/l*s*2+"px)"),e>i?n.classList.add("menu-fixed"):n.classList.remove("menu-fixed")},init:function(){window.matchMedia("(min-width: 768px)").matches?this.bigScreen():this.smallScreen(),window.onscroll=this.scrolled}},x={availableRooms:function(){m.on("value",function(e){for(var t=1;t<f.length+1;t++)f[t-1].querySelector(".isReserved").innerText=e.val()[t].available?"Elérhető":"Foglalt"},function(e){console.log("Error: "+e.code)})},toggleRoomText:function(e){e.forEach(function(e,t){e.addEventListener("click",function(){h[t].classList.toggle("room-text-hidden")})})},roomSlider:function(e){var t=0,r=f[e].querySelectorAll(".room-slider img");setInterval(function(){r.forEach(function(e){e.style.opacity=0}),t=t!=r.length-1?t+1:0,r[t].style.opacity=1},5e3)},init:function(){var e=this;this.availableRooms(),f.forEach(function(t,r){e.roomSlider(r)}),this.toggleRoomText(y),this.toggleRoomText(h)}},T={reserve:function(){Array.from(L).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),v.innerText="Szobafoglalás "+e.getAttribute("data-room-size")+" személy részére";var r={};g.style.transform="scale(1) translate(-50%, -50%)",S.forEach(function(t){t.addEventListener("input",function(){r[t.getAttribute("data-name")]=t.value,w.value="\nNév: "+r.name+"\nE-mail cím: "+r.mail+"\nTelefonszám: "+r.tel+"\nKívánt érkezés: "+r.arrive+"\nKívánt távozás: "+r.depart+"\nKívánt szoba méret: "+e.getAttribute("data-room-size")+" személy\nEgyéb információ: "+r.text})}),p.addEventListener("click",function(){g.style.transform="scale(0)"})})})},init:function(){this.reserve()}},b={init:function(){lory(document.querySelector(".js_simple"),{infinite:0,enableMouseEvents:1})}},E={init:function(){new google.maps.Map(t.querySelector("#map-canvas"),{center:{lat:46.394617,lng:17.505221},zoom:15,scrollwheel:!1,styles:[{elementType:"geometry",stylers:[{hue:"#ff4400"},{saturation:-68},{lightness:-4},{gamma:.72}]},{featureType:"road",elementType:"labels.icon"},{featureType:"landscape.man_made",elementType:"geometry",stylers:[{hue:"#0077ff"},{gamma:3.1}]},{featureType:"water",stylers:[{hue:"#00ccff"},{gamma:.44},{saturation:-33}]},{featureType:"poi.park",stylers:[{hue:"#44ff00"},{saturation:-23}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{hue:"#007fff"},{gamma:.77},{saturation:65},{lightness:99}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{gamma:.11},{weight:5.6},{saturation:99},{hue:"#0091ff"},{lightness:-86}]},{featureType:"transit.line",elementType:"geometry",stylers:[{lightness:-48},{hue:"#ff5e00"},{gamma:1.2},{saturation:-23}]},{featureType:"transit",elementType:"labels.text.stroke",stylers:[{saturation:-64},{hue:"#ff9100"},{lightness:16},{gamma:.47},{weight:2.7}]}]})}};e(),window.addEventListener("resize",function(){e()}),window.addEventListener("hashchange",function(){window.scrollTo(window.scrollX,window.scrollY-n.clientHeight+1)})};